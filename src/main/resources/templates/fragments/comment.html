<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org">
<body>
<div th:fragment="commentThread" th:remove="tag">
    <div th:each="comment : ${thread}" style="margin-left: 1em;">
        <div th:inline="text">
            <strong>[[${comment.user.name}]]</strong>  -  [[${#temporals.format(comment.createdDate, 'dd MMMM, yyyy HH:mm')}]]
        </div>
        <span th:text="${comment.text}">Example comment</span>
        <div style="margin-left: 12em"><a href="">reply</a></div>
        <hr/>
        <div th:with="thread = ${comment.comments}"
             th:include="fragments/comment.html :: commentThread" th:remove="tag"></div>
    </div>
</div>
</body>
</html>